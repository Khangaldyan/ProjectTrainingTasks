<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="8496e4d7-eb89-4462-b907-9b996377748e" activeEnvironment="Default" name="WeatherRestTask" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="03d27c11-6acc-4ebb-88f8-e64ebac5f343" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://api.openweathermap.org" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://api.openweathermap.org</con:endpoint></con:endpoints><con:resource name="2.5" path="/data/2.5" id="69fcbb97-3e4c-450c-9608-0b5d3106ed1d"><con:settings/><con:parameters/><con:resource name="weather" path="weather" id="6afa2044-4eb4-41c0-9c11-fa460901a1e0"><con:settings/><con:parameters><con:parameter><con:name>q</con:name><con:value>Brest,by</con:value><con:style>QUERY</con:style><con:default>Brest,by</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="ByCity" id="971a1b93-04f4-4ae6-8f86-cde48ef16340" method="GET"><con:settings/><con:parameters><con:parameter><con:name>mode</con:name><con:value>json</con:value><con:style>QUERY</con:style><con:default>json</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>APPID</con:name><con:value>e6c4ace468ba79e030a46df2d80d8b7f</con:value><con:style>QUERY</con:style><con:default>e6c4ace468ba79e030a46df2d80d8b7f</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401 400</con:status><con:params/><con:element xmlns:weat="http://api.openweathermap.org/data/2.5/weather">weat:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:weat="http://api.openweathermap.org/data/2.5/weather">weat:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/xml; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>current</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/xml; charset=utf-8</con:mediaType><con:status>400 404</con:status><con:params/><con:element>ClientError</con:element></con:representation><con:request name="Json" id="12b9e774-4e7c-46ca-b9e6-26f348150930" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>q</con:entry><con:entry>mode</con:entry><con:entry>APPID</con:entry></con:parameterOrder></con:request><con:request name="xml" id="fe850246-e9bf-4791-8e0e-cd85ff38d20a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="q" value="Brest,by"/>
  <con:entry key="APPID" value="e6c4ace468ba79e030a46df2d80d8b7f"/>
  <con:entry key="mode" value="xml"/>
</con:parameters><con:parameterOrder><con:entry>mode</con:entry><con:entry>APPID</con:entry><con:entry>q</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:resource></con:interface><con:testSuite id="c8510db1-48f1-4bda-90e5-94914fc96398" name="TestSuiteJSON"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="104e0e8c-66e3-40ba-bb1a-116503905574" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="WeatherByCityJsonTestByGroovy" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SendRequest" id="397e9292-62c9-43ac-9fd8-21324f331a5d"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="ByCity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SendRequest" id="12b9e774-4e7c-46ca-b9e6-26f348150930" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="GroovyScriptAssertion" id="c89e6bb2-3a28-405c-8ffd-1661420a644f" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText(response)
def country = messageExchange.modelItem.testStep.testCase.getPropertyValue( "country" )
def temperature = messageExchange.modelItem.testStep.testCase.getPropertyValue("temperature")
assert json.sys.country == country
assert json.main.temp > temperature.toInteger()</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="q" value="Brest,by" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>mode</con:entry><con:entry>APPID</con:entry><con:entry>q</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>country</con:name><con:value>BY</con:value></con:property><con:property><con:name>temperature</con:name><con:value>273</con:value></con:property></con:properties></con:testCase><con:testCase id="568d68a4-5906-4a66-9811-2b9947eaf4b3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="WeatherByCityJsonTestByProperty" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SendRequest" id="f881dd74-77a0-41b4-8374-52b46d6e6f0a"><con:settings/><con:config service="http://api.openweathermap.org" methodName="ByCity" resourcePath="/data/2.5/weather" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SendRequest" id="0bdb2e87-e495-4800-95be-a57310b77892" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Simple Contains" id="6276175f-f1fb-4c98-aa5c-8ebc8a35878c" name="Contains"><con:configuration><token>${#TestCase#expectedResult}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:entry key="q" value="Brest,by"/><con:entry key="mode" value="json"/><con:entry key="APPID" value="e6c4ace468ba79e030a46df2d80d8b7f"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>expectedResult</con:name><con:value>Brest</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="9cde9d59-150d-42a4-8914-7393a071b568" name="TestSuiteXML"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="663a2733-c021-4899-9e42-44d45d507029" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="WeatherByCityXmlTestByGroovy" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SendRequest" id="7576df25-e0b2-4f62-8645-8c7db6326142"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="ByCity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SendRequest" id="fe850246-e9bf-4791-8e0e-cd85ff38d20a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="GroovyScriptAssertion" id="d7d19ef9-c0dc-434c-b234-d0c8c899d9a0" name="Script Assertion"><con:configuration><scriptText>import groovy.util.XmlSlurper

def response = messageExchange.response.responseContent
def slurper = new XmlSlurper()
def xml = slurper.parseText(response)
def country = messageExchange.modelItem.testStep.testCase.getPropertyValue( "country" )
def temperature = messageExchange.modelItem.testStep.testCase.getPropertyValue("temperature")
assert xml.city.country == country
assert xml.temperature.@value.toBigDecimal() > temperature.toBigDecimal()</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="q" value="Brest,by"/>
  <con:entry key="APPID" value="e6c4ace468ba79e030a46df2d80d8b7f"/>
  <con:entry key="mode" value="xml"/>
</con:parameters><con:parameterOrder><con:entry>mode</con:entry><con:entry>APPID</con:entry><con:entry>q</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>country</con:name><con:value>BY</con:value></con:property><con:property><con:name>temperature</con:name><con:value>273</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="d6d23ee6-555f-4461-a1a3-55f901393959" name="TestSuiteInvalidCases"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="388e415f-26fa-4eb7-b168-18dcb2138811" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="EpmtyCityTest" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SendRequest" id="8d34588e-a821-44d2-b302-0ba4b3da15d6"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="ByCity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SendRequest" id="12b9e774-4e7c-46ca-b9e6-26f348150930" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Simple Contains" id="1d1b2fcb-6233-4f86-8b4c-f031e921aa22" name="Contains"><con:configuration><token>Nothing to geocode</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="06b93fa4-4c15-41d8-9cf0-258fcf8c4b7e" name="verifyResponseCod"><con:configuration><token>${#TestCase#responseCode}
</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="q" value=""/>
  <con:entry key="mode" value="xml"/>
</con:parameters><con:parameterOrder><con:entry>q</con:entry><con:entry>mode</con:entry><con:entry>APPID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>responceCode</con:name><con:value>400</con:value></con:property></con:properties></con:testCase><con:testCase id="32b81a93-2a66-44d4-b708-5467a192b3b8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="IncorrectCityTest" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SendRequest" id="5321450e-b6dc-4019-b6a7-df65ed70e111"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="ByCity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SendRequest" id="fe850246-e9bf-4791-8e0e-cd85ff38d20a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="Simple Contains" id="c4d09af1-9b11-4b79-9dae-85b7d38a92ec" name="verifyResponseCode"><con:configuration><token>404</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="75204068-7516-4f1c-b2e3-e4efe36a56bc" name="verifyMessage"><con:configuration><token>city not found</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="q" value="0"/>
  <con:entry key="APPID" value="e6c4ace468ba79e030a46df2d80d8b7f"/>
  <con:entry key="mode" value="xml"/>
</con:parameters><con:parameterOrder><con:entry>mode</con:entry><con:entry>APPID</con:entry><con:entry>q</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="6eb09c42-976c-4410-9ec8-72b0442edf50" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="InvalidAPPIDTest" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SendRequest" id="1438ee37-8df2-4064-a73f-5ff4cad59893"><con:settings/><con:config service="http://api.openweathermap.org" resourcePath="/data/2.5/weather" methodName="ByCity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SendRequest" id="12b9e774-4e7c-46ca-b9e6-26f348150930" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://api.openweathermap.org</con:endpoint><con:request/><con:originalUri>http://api.openweathermap.org/data/2.5/weather</con:originalUri><con:assertion type="GroovyScriptAssertion" id="a53fa3f6-c207-41fa-b2ed-7f2db221477b" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def response = messageExchange.response.responseContent
def slurper = new JsonSlurper()
def json = slurper.parseText(response)
assert json.cod == 401
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="APPID" value="0" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>q</con:entry><con:entry>mode</con:entry><con:entry>APPID</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>